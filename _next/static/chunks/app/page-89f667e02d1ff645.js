(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[974],{3234:(e,t,n)=>{Promise.resolve().then(n.bind(n,5993))},5993:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>ed});var a=n(5155),r=n(7558),o=n(8842);function s(e){return(0,a.jsxs)("mesh",{...e,children:[(0,a.jsx)("boxGeometry",{args:[18,18,1]}),(0,a.jsx)("meshStandardMaterial",{color:e.color}),e.children]})}function i(e){let t=e.scale,n=.9;return e.char.length>5?n=.38:e.char.length>2?n=.5:e.char.length>1&&(n=.9),(0,a.jsx)(o.E,{font:"fonts/MartianMono-VariableFont_wdth,wght.ttf",...e,scale:[9.5*n*t[0],9.5*n*t[1],1],anchorX:"center",anchorY:"middle",children:e.char})}var l=n(5768),d=n(2115),h=n(1803);class c{static fromJSON(e){let t=new c;return t.name=e.name,t.keys=e.keys,t.kbmodel=e.kbmodel,console.log("kbmodel loaded: "+t.kbmodel),t}minX(){let e=0;for(let t of this.keys)t[0]<e&&(e=t[0]);return e}minY(){let e=0;for(let t of this.keys)t[1]<e&&(e=t[1]);return e}maxX(){let e=0;for(let t of this.keys)t[0]>e&&(e=t[0]);return e}maxY(){let e=0;for(let t of this.keys)t[1]>e&&(e=t[1]);return e}constructor(){this.name="",this.keys=[],this.kbmodel=""}}class u{fromJSON(e){this.main=e.main,this.second=e.second,this.third=e.third,this.kmkKeyname=e.kmkKeyname}toJSON(){return JSON.stringify({main:this.main,second:this.second,third:this.third,kmkKeyname:this.kmkKeyname,typename:this.constructor.name})}groupColor(){let e=[,,,];return e[0]=215,e[1]=215,e[2]=215,e}mainChar(){return this.main}secondChar(){return this.second}thirdChar(){return this.third}mainCharColor(){let e=[,,,];return e[0]=0,e[1]=0,e[2]=0,e}secondCharColor(){let e=[,,,];return e[0]=0,e[1]=0,e[2]=255,e}thirdCharColor(){let e=[,,,];return e[0]=255,e[1]=0,e[2]=0,e}kmkKey(){return this.kmkKeyname}constructor(e="NO",t="",n="",a="NO"){this.main="",this.second="",this.third="",this.kmkKeyname="",this.main=e,this.second=t,this.third=n,this.kmkKeyname=a}}var y=function(e){return e[e.AUDIO_MUTE=0]="AUDIO_MUTE",e[e.AUDIO_VOL_UP=1]="AUDIO_VOL_UP",e[e.AUDIO_VOL_DOWN=2]="AUDIO_VOL_DOWN",e[e.BRIGHTNESS_UP=3]="BRIGHTNESS_UP",e[e.BRIGHTNESS_DOWN=4]="BRIGHTNESS_DOWN",e[e.MEDIA_NEXT_TRACK=5]="MEDIA_NEXT_TRACK",e[e.MEDIA_PREV_TRACK=6]="MEDIA_PREV_TRACK",e[e.MEDIA_STOP=7]="MEDIA_STOP",e[e.MEDIA_PLAY_PAUSE=8]="MEDIA_PLAY_PAUSE",e[e.MEDIA_FAST_FORWARD=9]="MEDIA_FAST_FORWARD",e[e.MEDIA_REWIND=10]="MEDIA_REWIND",e}({});class m{fromJSON(e){this.key=e.key,this.kmkKeyname=e.kmkKeyname}toJSON(){return JSON.stringify({key:this.key,kmkKeyname:this.kmkKeyname,typename:this.constructor.name})}groupColor(){let e=[,,,];return e[0]=0,e[1]=100,e[2]=218,e}mainChar(){let e="";return 0==this.key?e="MUTE":1==this.key?e="VOL\nUP":2==this.key?e="VOL\nDOWN":3==this.key?e="BRIGHT\nUP":4==this.key?e="BRIGHT DOWN":5==this.key?e="NEXT TRACK":6==this.key?e="PREV TRACK":7==this.key?e="STOP":8==this.key?e="PLAY/PAUSE":9==this.key?e="FAST FORWARD":10==this.key&&(e="REWIND"),e}secondChar(){return""}thirdChar(){return""}mainCharColor(){let e=[,,,];return e[0]=0,e[1]=0,e[2]=255,e}secondCharColor(){let e=[,,,];return e[0]=0,e[1]=0,e[2]=255,e}thirdCharColor(){let e=[,,,];return e[0]=0,e[1]=0,e[2]=255,e}kmkKey(){return"kc."+this.kmkKeyname}constructor(e=0){this.key=0,this.kmkKeyname="",this.key=e,0==this.key?this.kmkKeyname="AUDIO_MUTE":1==this.key?this.kmkKeyname="AUDIO_VOL_UP":2==this.key?this.kmkKeyname="AUDIO_VOL_DOWN":3==this.key?this.kmkKeyname="BRIGHTNESS_UP":4==this.key?this.kmkKeyname="BRIGHTNESS_DOWN":5==this.key?this.kmkKeyname="MEDIA_NEXT_TRACK":6==this.key?this.kmkKeyname="MEDIA_PREV_TRACK":7==this.key?this.kmkKeyname="MEDIA_STOP":8==this.key?this.kmkKeyname="MEDIA_PLAY_PAUSE":9==this.key?this.kmkKeyname="MEDIA_FAST_FORWARD":10==this.key&&(this.kmkKeyname="MEDIA_REWIND")}}var w=function(e){return e[e.MB_LMB=0]="MB_LMB",e[e.MB_RMB=1]="MB_RMB",e[e.MB_MMB=2]="MB_MMB",e[e.MB_BTN4=3]="MB_BTN4",e[e.MB_BTN5=4]="MB_BTN5",e[e.MW_UP=5]="MW_UP",e[e.MW_DOWN=6]="MW_DOWN",e[e.MW_LEFT=7]="MW_LEFT",e[e.MW_RIGHT=8]="MW_RIGHT",e[e.MS_UP=9]="MS_UP",e[e.MS_DOWN=10]="MS_DOWN",e[e.MS_LEFT=11]="MS_LEFT",e[e.MS_RIGHT=12]="MS_RIGHT",e}({});class k{fromJSON(e){this.key=e.key}toJSON(){return JSON.stringify({key:this.key,typename:this.constructor.name})}groupColor(){let e=[,,,];return e[0]=30,e[1]=100,e[2]=100,e}mainChar(){let e="";return 0==this.key?e="Mouse\nIzq":1==this.key?e="Mouse\nDer":2==this.key?e="Mouse\nCentro":3==this.key?e="Mouse\nBtn4":4==this.key?e="Mouse\nBtn5":5==this.key?e="Mouse\nScroll\n↑":6==this.key?e="Mouse\nScroll\n↓":7==this.key?e="Mouse\nScroll\n←":8==this.key?e="Mouse\nScroll\n→":9==this.key?e="Mouse\n↑":10==this.key?e="Mouse\n↓":11==this.key?e="Mouse\n←":12==this.key&&(e="Mouse\n→"),e}secondChar(){return""}thirdChar(){return""}mainCharColor(){let e=[,,,];return e[0]=200,e[1]=80,e[2]=80,e}secondCharColor(){let e=[,,,];return e[0]=0,e[1]=0,e[2]=255,e}thirdCharColor(){let e=[,,,];return e[0]=0,e[1]=0,e[2]=255,e}kmkKey(){if(0==this.key)return"kc.MB_LMB()";if(1==this.key)return"kc.MB_RMB()";if(2==this.key)return"kc.MB_MMB()";if(3==this.key)return"kc.MB_BTN4()";if(4==this.key)return"kc.MB_BTN5()";else if(5==this.key)return"kc.MW_UP()";else if(6==this.key)return"kc.MW_DOWN()";else if(7==this.key)return"kc.MW_LEFT()";else if(8==this.key)return"kc.MW_RIGHT()";else if(9==this.key)return"kc.MS_UP()";else if(10==this.key)return"kc.MS_DOWN()";else if(11==this.key)return"kc.MS_LEFT()";else if(12==this.key)return"kc.MS_RIGHT";return""}constructor(e=0){this.key=0,this.kmkKeyname="",this.key=e}}function A(e){let t=new u;if(e.typename==u.prototype.constructor.name){let t=new u;return t.fromJSON(e),t}if(e.typename==m.prototype.constructor.name){let t=new m;return t.fromJSON(e),t}return t}class p{fromJSON(e){this.onTapFunction=A(JSON.parse(e.onTapFunction)),this.onHoldFunction=A(JSON.parse(e.onHoldFunction))}toJSON(){return JSON.stringify({onTapFunction:this.onTapFunction.toJSON(),onHoldFunction:this.onHoldFunction.toJSON(),typename:this.constructor.name})}mainChar(){return(console.log(this.onHoldFunction),null!=this.onHoldFunction)?this.onHoldFunction.mainChar():""}secondChar(){return(console.log(this.onTapFunction),null!=this.onTapFunction)?this.onTapFunction.mainChar():""}thirdChar(){return""}groupColor(){let e=[,,,];return e[0]=255,e[1]=0,e[2]=255,e}mainCharColor(){return null!=this.onHoldFunction?this.onHoldFunction.mainCharColor():[,,,]}secondCharColor(){return null!=this.onTapFunction?this.onTapFunction.mainCharColor():[,,,]}thirdCharColor(){return[,,,]}kmkKey(){return"kc.HT( kc."+this.onTapFunction.kmkKey()+", kc."+this.onHoldFunction.kmkKey()+")"}constructor(e,t){this.onTapFunction=t,this.onHoldFunction=e}}var _=function(e){return e[e.GOTO=0]="GOTO",e[e.MOMENTARY=1]="MOMENTARY",e[e.LAYER_TAP=2]="LAYER_TAP",e}({});class S{fromJSON(e){this.type=e.type,this.targetLayer=e.targetLayer,this.onTapFunction=A(e.onTapFunction)}toJSON(){return JSON.stringify({type:this.type,targetLayer:this.targetLayer,onTapFunction:this.onTapFunction.toJSON(),typename:this.constructor.name})}mainChar(){let e="";return 0==this.type?e="Ir\na":1==this.type?e="Ir\ntemp. a":2==this.type&&(e="LT"),e}secondChar(){return(this.targetLayer+1).toString()}thirdChar(){return this.type in[0,1]||null==this.onTapFunction?"":this.onTapFunction.mainChar()}groupColor(){let e=[,,,];return e[0]=85,e[1]=90,e[2]=13,e}mainCharColor(){return[255,255,255]}secondCharColor(){return[255,255,255]}thirdCharColor(){return[255,255,255]}kmkKey(){return 0==this.type?"kc.TO("+this.targetLayer+")":1==this.type?"kc.MO("+this.targetLayer+")":2==this.type?"kc.LT("+this.targetLayer+", "+this.onTapFunction.kmkKey()+")":""}constructor(e=0,t=0,n=new u){this.type=0,this.targetLayer=0,this.type=e,this.targetLayer=t,this.onTapFunction=n}}function N(e){let t=JSON.parse(e);if(t.typename==p.prototype.constructor.name){let e=new p(new u,new u);return e.fromJSON(t),e}if(t.typename!=S.prototype.constructor.name)return A(t);{let e=new S;return e.fromJSON(t),e}}class g{add(e){this.set.push(e)}fromJSON(e){for(let t of(this.name=e.name,this.set=[],e.set)){let e=JSON.parse(t);this.set.push(N(e))}console.log()}toJSON(){let e=[];for(let t of this.set)e.push(t.toJSON());return JSON.stringify({name:this.name,set:e})}constructor(e=""){this.name="",this.set=[],this.name=e}}class O{fromJSON(e){this.name=e.name,this.color=e.color;let t=e.keys;for(let e of(this.keys=[],t))JSON.parse(e),this.keys.push(N(e))}toJSON(){let e=[];for(let t of this.keys)e.push(t.toJSON());return JSON.stringify({name:this.name,color:this.color,keys:e})}constructor(){this.name="",this.color="",this.keys=Array(200);for(let e=0;e<this.keys.length;e++)this.keys[e]=new u("NO","","","NO")}}class M{fromJSON(e){for(let t of(this.keySetName=e.keySetName,this.keyboardModelID=e.keyboardModelID,this.defaultHoldTime_ms=e.defaultHoldTime_ms,this.holdTime_ms=e.holdTime_ms,this.layers=[],e.layers)){let e=new O,n=JSON.parse(t);e.fromJSON(n),this.layers.push(e)}}toJSON(){let e=[];for(let t of this.layers)e.push(t.toJSON());return JSON.stringify({keySetName:this.keySetName,keyboardModelID:this.keyboardModelID,layers:e,defaultHoldTime_ms:this.defaultHoldTime_ms,holdTime_ms:this.holdTime_ms})}setNKeys(e){for(let t=0;t<this.layers.length;t++)this.layers[t].keys=this.layers[t].keys.slice(0,e)}generateContent(e){let t="";t+="\n\n"+("#Generated on "+new Date+"\n")+"\n\ndef assignKeys():\n    from kmk.key import KC\n    kc =KC\n    noAsg =kc.NO\n";let n=[];for(let a=0;a<this.layers.length;a++){let r=this.layers[a].keys.length,o=this.layers[a];t+="    #"+o.name+"\n";let s="lyr"+a.toString();n.push(s);let i="    "+s;t+=i+" = [noAsg]*"+r.toString()+"\n";for(let n=0;n<o.keys.length;n++){let a=o.keys[n];!(null==a||a.constructor.name==u.prototype.constructor.name&&"NO"==a.mainChar()||!e&&[u.prototype.constructor.name,m.prototype.constructor.name,k.prototype.constructor.name,p.prototype.constructor.name].includes(a.constructor.name))&&(t+=i+"["+n.toString()+"] = "+a.kmkKey()+"\n")}t+="\n\n"}let a="";for(let e=0;e<n.length;e++)a+=n[e],e<n.length-1&&(a+=", ");return t+("    return["+a+"]\n\n\n")}constructor(){this.keySetName="",this.keyboardModelID="",this.layers=[],this.defaultHoldTime_ms=200,this.holdTime_ms=200,this.layers=[,,,,,],this.layers[0]=new O,this.layers[0].name="Capa 1",this.layers[0].color="red",this.layers[1]=new O,this.layers[1].name="Capa 2",this.layers[1].color="green",this.layers[2]=new O,this.layers[2].name="Capa 3",this.layers[2].color="blue",this.layers[3]=new O,this.layers[3].name="Capa 4",this.layers[3].color="yellow",this.layers[4]=new O,this.layers[4].name="Capa 5",this.layers[4].color="cyan",this.keyboardModelID="nutymini"}}class T{constructor(){this.templates=[]}}async function f(e){let t=await window.showDirectoryPicker({mode:"readwrite"});console.log(t);let n=e.generateContent(!0),a=e.generateContent(!1),r=await t.getFileHandle("keyAssignations.py",{create:!0}),o=await r.createWritable();await o.write(n),await o.close();let s=await t.getFileHandle("keyAssignationsLite.py",{create:!0}),i=await s.createWritable();await i.write(a),await i.close();let l=await t.getFileHandle("keyAssignationsBLE.py",{create:!0}),d=await l.createWritable();await d.write(a),await d.close()}let C=new g("es");C.add(new u("NO","","","NO")),C.add(new u("TR","","","TRNS")),C.add(new u("A","","","A")),C.add(new u("Q","","","Q")),C.add(new u("E","","€","E")),C.add(new m(y.AUDIO_MUTE)),C.add(new m(y.AUDIO_VOL_DOWN)),C.add(new m(y.AUDIO_VOL_UP)),C.add(new m(y.MEDIA_PLAY_PAUSE)),C.add(new m(y.MEDIA_STOP)),C.add(new m(y.MEDIA_PREV_TRACK)),C.add(new m(y.MEDIA_NEXT_TRACK)),C.add(new m(y.MEDIA_FAST_FORWARD)),C.add(new m(y.MEDIA_REWIND)),C.add(new m(y.BRIGHTNESS_UP)),C.add(new m(y.BRIGHTNESS_DOWN));let x=new g("us");x.add(new u("NO","","","NO")),x.add(new u("TR","","","TRNS")),x.add(new u("A","","","A")),x.add(new u("Q","","","Q")),x.add(new u("E","","","E")),x.add(new m(y.AUDIO_MUTE)),x.add(new m(y.AUDIO_VOL_DOWN)),x.add(new m(y.AUDIO_VOL_UP)),x.add(new m(y.MEDIA_PLAY_PAUSE)),x.add(new m(y.MEDIA_STOP)),x.add(new m(y.MEDIA_PREV_TRACK)),x.add(new m(y.MEDIA_NEXT_TRACK)),x.add(new m(y.MEDIA_FAST_FORWARD)),x.add(new m(y.MEDIA_REWIND)),x.add(new m(y.BRIGHTNESS_UP)),x.add(new m(y.BRIGHTNESS_DOWN));let E=new g("latam");E.add(new u("NO","","","NO")),E.add(new u("TR","","","TRNS")),E.add(new u("A","","","A")),E.add(new u("B","","","B")),E.add(new u("C","","","C")),E.add(new u("D","","","D")),E.add(new u("E","","","E")),E.add(new u("F","","","F")),E.add(new u("G","","","G")),E.add(new u("H","","","H")),E.add(new u("I","","","I")),E.add(new u("J","","","J")),E.add(new u("K","","","K")),E.add(new u("L","","","L")),E.add(new u("M","","","M")),E.add(new u("N","","","N")),E.add(new u("O","","","O")),E.add(new u("P","","","P")),E.add(new u("Q","","@","Q")),E.add(new u("R","","","R")),E.add(new u("S","","","S")),E.add(new u("T","","","T")),E.add(new u("U","","","U")),E.add(new u("V","","","V")),E.add(new u("W","","","W")),E.add(new u("X","","","X")),E.add(new u("Y","","","Y")),E.add(new u("Z","","","Z")),E.add(new u("\xb4","\xa8","","SCOLON")),E.add(new u("+","*","~","RBRACKET")),E.add(new u("<",">","","NUBS")),E.add(new u("'","?","\\","MINUS")),E.add(new u("\xbf","\xa1","","EQUAL")),E.add(new u(",",";","","COMMA")),E.add(new u(".",":","","DOT")),E.add(new u("-","_","","SLASH")),E.add(new u("|","\xb0","\xac","GRAVE")),E.add(new u("1","!","","N1")),E.add(new u("2",'"',"","N2")),E.add(new u("3","#","","N3")),E.add(new u("4","$","","N4")),E.add(new u("5","%","","N5")),E.add(new u("6","&","","N6")),E.add(new u("7","/","","N7")),E.add(new u("8","(","","N8")),E.add(new u("9",")","","N9")),E.add(new u("0",")","","N0")),E.add(new u("Back","","","BSPACE")),E.add(new u("Enter","","","ENTER")),E.add(new u("Esc","","","ESC")),E.add(new u("Tab","","","Tab")),E.add(new u("Bloq\nMayus","","","CAPSLOCK")),E.add(new u("Space","","","SPACE")),E.add(new u("F1","","","F1")),E.add(new u("F2","","","F2")),E.add(new u("F3","","","F3")),E.add(new u("F4","","","F4")),E.add(new u("F5","","","F5")),E.add(new u("F6","","","F6")),E.add(new u("F7","","","F7")),E.add(new u("F8","","","F8")),E.add(new u("F9","","","F9")),E.add(new u("F10","","","F10")),E.add(new u("F11","","","F11")),E.add(new u("F12","","","F12")),E.add(new u("F23","","","F23")),E.add(new u("Print\nScreen","","","PSCREEN")),E.add(new u("Insert","","","INSERT")),E.add(new u("Home","","","HOME")),E.add(new u("Page\nUp","","","PGUP")),E.add(new u("Page\nDown","","","PGDOWN")),E.add(new u("Delete","","","DEL")),E.add(new u("End","","","END")),E.add(new u("↑","","","UP")),E.add(new u("↓","","","DOWN")),E.add(new u("←","","","LEFT")),E.add(new u("→","","","RIGHT")),E.add(new u("Num\nLock","","","NUMLOCK")),E.add(new u("Keypad\n/","","","KP_SLASH")),E.add(new u("Keypad\n*","","","KP_ASTERISK")),E.add(new u("Keypad\n-","","","KP_MINUS")),E.add(new u("Keypad\n+","","","KP_PLUS")),E.add(new u("Keypad\nEnter","","","KP_ENTER")),E.add(new u("Keypad\n1","","","KP_1")),E.add(new u("Keypad\n2","","","KP_2")),E.add(new u("Keypad\n3","","","KP_3")),E.add(new u("Keypad\n4","","","KP_4")),E.add(new u("Keypad\n5","","","KP_5")),E.add(new u("Keypad\n6","","","KP_6")),E.add(new u("Keypad\n7","","","KP_7")),E.add(new u("Keypad\n8","","","KP_8")),E.add(new u("Keypad\n9","","","KP_9")),E.add(new u("Keypad\n0","","","KP_0")),E.add(new u("Keypad\n.","","","KP_DOT")),E.add(new u("Keypad\n=","","","KP_EQUAL")),E.add(new u("Keypad\n,","","","KP_COMMA")),E.add(new u("Left\nControl","","","LCTRL")),E.add(new u("Right\nControl","","","RCTRL")),E.add(new u("Left\nShift","","","LSHIFT")),E.add(new u("Right\nShift","","","RSHIFT")),E.add(new u("Left\nAlt","","","LALT")),E.add(new u("Right\nAlt","","","RALT")),E.add(new u("Left\nGUI","","","LGUI")),E.add(new u("Right\nGUI","","","RGUI")),E.add(new u("Menu","","","APP")),E.add(new m(y.AUDIO_MUTE)),E.add(new m(y.AUDIO_VOL_UP)),E.add(new m(y.AUDIO_VOL_DOWN)),E.add(new m(y.MEDIA_PLAY_PAUSE)),E.add(new m(y.MEDIA_STOP)),E.add(new m(y.MEDIA_PREV_TRACK)),E.add(new m(y.MEDIA_NEXT_TRACK)),E.add(new m(y.MEDIA_FAST_FORWARD)),E.add(new m(y.MEDIA_REWIND)),E.add(new m(y.BRIGHTNESS_UP)),E.add(new m(y.BRIGHTNESS_DOWN)),E.add(new k(w.MB_LMB)),E.add(new k(w.MB_RMB)),E.add(new k(w.MB_MMB)),E.add(new k(w.MB_BTN4)),E.add(new k(w.MB_BTN5)),E.add(new k(w.MW_UP)),E.add(new k(w.MW_DOWN)),E.add(new k(w.MW_LEFT)),E.add(new k(w.MW_RIGHT)),E.add(new k(w.MS_UP)),E.add(new k(w.MS_DOWN)),E.add(new k(w.MS_LEFT)),E.add(new k(w.MS_RIGHT)),E.add(new S(_.GOTO,0)),E.add(new S(_.GOTO,1)),E.add(new S(_.GOTO,2)),E.add(new S(_.GOTO,3)),E.add(new S(_.GOTO,4)),E.add(new S(_.MOMENTARY,0)),E.add(new S(_.MOMENTARY,1)),E.add(new S(_.MOMENTARY,2)),E.add(new S(_.MOMENTARY,3)),E.add(new S(_.MOMENTARY,4));var D=n(7976),I=n(9776),j=n(4263),R=n(4296),K=n(6033),F=n(404),P=n(8407),L=n(1169),U=n(529),b=n(4955),B=n(5198),W=n(2864),H=n(5715),J=n(1054),v=n(8192);let G=[{img:"keyboardmodels/nutymini.jpg",title:"Nuty Mini/Nuty Mini COLOR",layoutFile:"keyboardmodels/nutymini.json"},{img:"keyboardmodels/nutydactyl.jpg",title:"Nuty Dactyl 60",layoutFile:"keyboardmodels/nutydactyl60.json"}];function V(e){return(0,a.jsxs)(h.A,{spacing:0,direction:"column",children:[(0,a.jsx)(L.A,{component:"nav",position:"static",children:(0,a.jsx)(U.A,{children:(0,a.jsx)(b.A,{variant:"h6",component:"div",sx:{flexGrow:1},children:"Configurador de teclado"})})}),(0,a.jsx)("h1",{className:"text-1xl font-bold text-center",children:"Elige tu modelo de teclado"}),(0,a.jsx)(J.A,{sx:{width:"100%",height:"100%"},cols:Math.min(G.length,3),rowHeight:"800",children:G.map(t=>(0,a.jsxs)(v.A,{children:[(0,a.jsx)("img",{srcSet:t.img,src:t.img,alt:t.title,loading:"lazy"}),(0,a.jsx)(B.A,{variant:"outlined",onClick:n=>{e.onClick(t.layoutFile)},children:t.title})]},t.title))}),(0,a.jsxs)("h1",{className:"text-sm font-bold text-center",children:["Desarrollado por ",(0,a.jsx)("a",{href:"https://www.nutylabs.com",children:(0,a.jsx)("strong",{children:"Nuty L.A.B.S"})})]})]})}let Y=[{title:"latam",obj:E,img:"keyboardlayouts/latam.png"},{title:"us",obj:x,img:"keyboardlayouts/us.png"},{title:"es",obj:C,img:"keyboardlayouts/es.png"}];function X(e){return(0,a.jsxs)(h.A,{spacing:0,direction:"column",children:[(0,a.jsx)(L.A,{component:"nav",position:"static",children:(0,a.jsx)(U.A,{children:(0,a.jsx)(b.A,{variant:"h6",component:"div",sx:{flexGrow:1},children:"Configurador de teclado"})})}),(0,a.jsx)("h1",{className:"text-3xl font-bold text-center",children:"Select your layout"}),(0,a.jsx)(J.A,{sx:{width:"100%",height:"120%"},cols:2,rowHeight:400,children:Y.map(t=>(0,a.jsxs)(v.A,{children:[(0,a.jsx)("img",{srcSet:t.img,src:t.img,alt:t.title,loading:"lazy"}),(0,a.jsx)(B.A,{variant:"outlined",onClick:n=>{e.onClick(t.obj)},children:t.title})]},t.title))})]})}function Q(e,t){let[n,a]=(0,d.useState)(()=>t),r=()=>{try{let n=window.localStorage.getItem(e);return n?JSON.parse(n):t}catch(e){return console.log(e),t}};return(0,d.useEffect)(()=>{a(r())},[]),[n,t=>{try{let r=t instanceof Function?t(n):t;a(r),window.localStorage.setItem(e,JSON.stringify(r))}catch(e){console.log(e)}}]}var z=n(4492),q=n(9927),Z=n(1977),$=n(5599),ee=n(5653),et=n(7192),en=n(4915);function ea(e){let[t,n]=(0,d.useState)(-1);return(0,a.jsxs)($.A,{sx:{"& .MuiDialog-paper":{width:"80%",maxHeight:435}},maxWidth:"xs",open:e.open,children:[(0,a.jsx)(z.A,{children:"Escoja una plantilla"}),(0,a.jsx)(q.A,{dividers:!0,children:(0,a.jsx)(ee.A,{"aria-label":"ringtone",name:"ringtone",value:t,onChange:e=>{n(parseInt(e.target.value))},children:e.templates.map((e,t)=>(0,a.jsx)(en.A,{value:t,control:(0,a.jsx)(et.A,{}),label:e.name},t))})}),(0,a.jsxs)(Z.A,{children:[(0,a.jsx)(B.A,{autoFocus:!0,onClick:()=>{e.onClose(-1)},children:"Cancelar"}),(0,a.jsx)(B.A,{onClick:()=>{e.onClose(t)},children:"Ok"})]})]})}var er=n(2110);function eo(e){let[t,n]=(0,d.useState)(-1),[r,o]=(0,d.useState)(-1);return(0,a.jsxs)($.A,{sx:{"& .MuiDialog-paper":{width:"80%",maxHeight:435}},maxWidth:"xs",open:e.open,children:[(0,a.jsx)(z.A,{children:"Comportamiento al..."}),(0,a.jsx)(q.A,{dividers:!0,children:(0,a.jsxs)(er.A,{container:!0,rowSpacing:1,columnSpacing:{xs:1,sm:2,md:3},children:[(0,a.jsxs)(er.A,{size:6,children:[(0,a.jsx)("h1",{children:"...pulso largo(Hold)"}),(0,a.jsx)(ee.A,{"aria-label":"ringtone",name:"ringtone",value:t,onChange:e=>{n(parseInt(e.target.value))},children:e.holdKeys.map((e,t)=>(0,a.jsx)(en.A,{value:t,control:(0,a.jsx)(et.A,{}),label:e.mainChar()},t))})]}),(0,a.jsxs)(er.A,{size:6,children:[(0,a.jsx)("h1",{children:"...pulso corto(Tap)"}),(0,a.jsx)(ee.A,{"aria-label":"ringtone",name:"ringtone",value:r,onChange:e=>{o(parseInt(e.target.value))},children:e.tapKeys.map((e,t)=>(0,a.jsx)(en.A,{value:t,control:(0,a.jsx)(et.A,{}),label:e.mainChar()},t))})]})]})}),(0,a.jsxs)(Z.A,{children:[(0,a.jsx)(B.A,{autoFocus:!0,onClick:()=>{e.onClose(!1,new u,new u)},children:"Cancelar"}),(0,a.jsx)(B.A,{onClick:()=>{if(-1===t||-1===r){e.onClose(!1,new u,new u);return}let n=e.holdKeys[t],a=e.tapKeys[r];e.onClose(!1,n,a)},children:"Ok"})]})]})}let es=(e,t,n)=>{""!=e&&(console.log("Cargando layout"),fetch(e).then(e=>e.json()).then(e=>{n(c.fromJSON(e.layout)),t(!0)}))};function ei(e,t,n,r){return(0,a.jsx)(R.A,{component:P.A,style:{maxHeight:400},children:(0,a.jsxs)(D.A,{sx:{minWidth:650},size:"small",stickyHeader:!0,children:[(0,a.jsx)(K.A,{children:(0,a.jsxs)(F.A,{sx:{"&:last-child td, &:last-child th":{border:0}},children:[(0,a.jsx)(j.A,{children:"Index"}),(0,a.jsx)(j.A,{align:"left",children:"Main Char"}),(0,a.jsx)(j.A,{align:"left",children:"Second Char"}),(0,a.jsx)(j.A,{align:"left",children:"Third Char"})]})}),(0,a.jsx)(I.A,{children:e.set.map((e,o)=>e.constructor.name==n?(0,a.jsxs)(F.A,{sx:{"&:last-child td, &:last-child th":{border:0}},style:{backgroundColor:"rgb(".concat(e.groupColor()[0],",").concat(e.groupColor()[1],",").concat(e.groupColor()[2],")")},onDoubleClick:n=>{r(n,t,e)},children:[(0,a.jsx)(j.A,{component:"th",scope:"row",width:"80px",children:o+1}),(0,a.jsx)(j.A,{align:"left",children:e.mainChar()}),(0,a.jsx)(j.A,{align:"right",children:e.secondChar()}),(0,a.jsx)(j.A,{align:"right",children:e.thirdChar()})]},o):null)})]})})}function el(e){let t=e.toJSON();localStorage.setItem("config",t),localStorage.setItem("configSaved","true")}function ed(){let[e,t]=Q("layoutFile",""),[n,o]=(0,d.useState)(!1),[y,w]=(0,d.useState)(new c),[A,_]=Q("keyset",""),[N,O]=(0,d.useState)(0),[D,I]=(0,d.useState)(-1),[j,R]=(0,d.useState)(0),[K,F]=(0,d.useState)(0),[P,J]=(0,d.useState)(!1),[v,G]=(0,d.useState)(new T),[Y,z]=(0,d.useState)(!1),[q,Z]=(0,d.useState)(!1);(0,d.useEffect)(()=>{!P&&fetch("templates/list.json").then(e=>e.json()).then(e=>{G(e),J(!0)})},[]),(0,d.useEffect)(()=>{es(e,o,w)},[e]);let $=new g("");if("latam"==A?(console.log("keyset latam"),$=E):"us"==A?(console.log("keyset us"),$=x):"es"==A&&(console.log("keyset es"),$=C),console.log("layoutFile: ",e),""==e)return(0,a.jsx)(V,{onClick:e=>{t(e)}});if(""==$.name)return(0,a.jsx)(X,{onClick:e=>{_(e.name)}});let ee=function(){let e=localStorage.getItem("configSaved");if(!e||"true"!=e)return new M;let t=localStorage.getItem("config"),n=new M;if(t){let e=JSON.parse(t);n.fromJSON(e)}return n}();function et(e,t,n){if(D<0){console.log("No hay clave seleccionada");return}t.layers[j].keys[D]=n,el(t),F(K+1)}ee.setNKeys(y.keys.length);let en=v.templates.filter(e=>e.keyset==$.name&&e.kbmodel==y.kbmodel);return(0,a.jsxs)(h.A,{spacing:0,direction:"column",children:[(0,a.jsx)(ea,{open:Y,templates:en,onClose:function(e){z(!1),!(e<0)&&!function(e,t,n){fetch(e.path).then(e=>e.text()).then(e=>{localStorage.setItem("config",e),localStorage.setItem("configSaved","true"),n(t+1)})}(en[e],K,F)}}),(0,a.jsx)(eo,{open:q,holdKeys:$.set,tapKeys:$.set,onClose:function(e,t,n){Z(!1),console.log("ht accepted",e),console.log("ht holdKey",t),console.log("ht tapKey",n);let a=new p(t,n);ee.layers[j].keys[D]=a,el(ee),F(K+1)}}),(0,a.jsx)(L.A,{component:"nav",position:"static",children:(0,a.jsxs)(U.A,{children:[(0,a.jsx)(b.A,{variant:"h6",component:"div",sx:{flexGrow:1},children:"Configurador de teclado"}),(0,a.jsx)(B.A,{onClick:function(){z(!0)},variant:"contained",disabled:!P,children:"Cargar Plantilla..."}),(0,a.jsx)(B.A,{onClick:function(){!0==confirm("\xbfSeguro que desea reiniciar?")&&(t(""),_(""),el(new M))},variant:"contained",children:"\uD83D\uDDD1️Reiniciar"}),(0,a.jsx)(B.A,{onClick:function(){f(ee)},variant:"contained",children:"\uD83D\uDDAEGrabar en teclado"})]})}),(0,a.jsx)("h2",{className:"text-1xl font-bold text-center"}),(0,a.jsxs)("h2",{className:"text-1xl font-bold text-left",children:["Teclado: ",y.name]}),(0,a.jsxs)("h2",{className:"text-1xl font-bold text-left",children:["Juego de teclas: ",$.name]}),(0,a.jsx)(W.A,{value:j,onChange:(e,t)=>{R(t)},children:ee.layers.map((e,t)=>(0,a.jsx)(H.A,{label:e.name,value:t},t))}),(0,a.jsxs)(r.Hl,{id:"mainview",orthographic:!0,camera:{position:[0,0,80],zoom:3},onPointerMissed:()=>{I(-1)},style:{background:ee.layers[j].color,height:"10eh"},children:[(0,a.jsx)("ambientLight",{intensity:1}),(0,a.jsx)(l.c,{fit:!0,clip:!0,observe:!0,margin:1.2,maxDuration:.2,children:y.keys.map((e,t)=>(0,a.jsxs)(s,{color:t==D?"#222222":"#5555FF",position:[e[0],e[1],0],onClick:e=>{I(t)},children:[(0,a.jsx)(i,{position:[0,-1,1],color:"#DDDDDD",scale:[1,1],char:ee.layers[j].keys[t].mainChar()}),(0,a.jsx)(i,{position:[-5,5,1],color:"#0055AA",scale:[.5,.5],char:ee.layers[j].keys[t].secondChar()}),(0,a.jsx)(i,{position:[5,5,1],color:"#FF5533",scale:[.5,.5],char:ee.layers[j].keys[t].thirdChar()})]},t))})]}),(0,a.jsxs)(W.A,{value:N,onChange:(e,t)=>{O(t)},children:[(0,a.jsx)(H.A,{label:"Caracteres",value:0}),(0,a.jsx)(H.A,{label:"Multimedia",value:1}),(0,a.jsx)(H.A,{label:"Hold/Tap",value:2}),(0,a.jsx)(H.A,{label:"Mouse",value:3}),(0,a.jsx)(H.A,{label:"Capas",value:4})]}),0==N?ei($,ee,u.prototype.constructor.name,et):null,1==N?ei($,ee,m.prototype.constructor.name,et):null,2==N?ei($,ee,p.prototype.constructor.name,et):null,3==N?ei($,ee,k.prototype.constructor.name,et):null,4==N?ei($,ee,S.prototype.constructor.name,et):null,2==N?(0,a.jsx)(B.A,{onClick:function(){if(D<0){alert("Debe seleccionar una tecla");return}Z(!0)},children:"Agregar combinaci\xf3n HoldTap"}):null]})}}},e=>{var t=t=>e(e.s=t);e.O(0,[367,831,683,413,286,441,684,358],()=>t(3234)),_N_E=e.O()}]);